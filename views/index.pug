extends layout

block content
  h1.text-center.mb-4 Smart To-Do List Manager

  form(action="/add" method="POST" class="d-flex mb-3")
    input.form-control(type="text", name="task", placeholder="Enter a new task" required)
    button.btn.btn-primary.ms-2(type="submit") Add

  if todos.length
    ul.list-group
      each todo, i in todos
        li.list-group-item.d-flex.justify-content-between.align-items-center
          span(class= todo.done ? "text-decoration-line-through" : "")= todo.text
          div
            form(action=`/done/${i}` method="POST" style="display:inline;")
              button.btn.btn-sm.btn-success(type="submit") #{todo.done ? "Undo" : "Done"}
            form(action=`/delete/${i}` method="POST" style="display:inline; margin-left:5px;")
              button.btn.btn-sm.btn-danger(type="submit") Delete
  else
    p.text-muted No tasks yet. Add one above!
